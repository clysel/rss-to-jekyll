---
layout:     post
title: 	    "Blog: Agil arkitektur - hvornår skaber selvorganisering den bedste arkitektur?"
post_author:	    Anders Lisdorf
post_date:	    Sun, 19 Apr 2015 22:02:29 +0000
post_site:	    www.version2.dk 
post_link:	    http://www.version2.dk/blog/agil-arkitektur-hvornaar-skaber-selvorganisering-den-bedste-arkitektur-147760?utm_medium=feed&utm_source=version2.dk&utm_campaign=it_nyheder
---
<html><body><div><section class="body">
    <p>Moseloven indenfor den agile verden er jo <a href="http://www.agilemanifesto.org/principles.html">the agile manifesto</a>. Der er tolv principper, som skal følges. Der er mange gode og produktive tanker i det, som helt klart startede en tiltrængt bølge på det tidspunkt det kom frem. Men jeg har altid undret mig over det 11. princip: "The best architectures, requirements, and designs emerge from self-organizing teams”. Det virker dog mere som et postulat, end et princip.</p>

<p>Nu har jeg tidligere arbejdet som arkitekt både med agile teams og med mere klassisk organiserede udviklingsprocesser og det kan selvfølgelig godt være, at de agile teams ikke har fulgt manifestoet rigtigt, men det er ikke umiddelbart mit indtryk, at der er belæg for denne påstand. De mest forfærdelige arkitekturer jeg nogensinde har set er produceret af agile teams. Der er dog heller ikke i mine observationer belæg for at antage, at det er den agile metode som sådan, der er årsag til dette. Jeg synes ikke jeg har nok observationer og samtidig har jeg heller ikke kendskab til graden af compliance med den agile metode.</p>

<p>Noget kunne dog tyde på at lignende indsigter også er gjort i den agile verden. Gabriele Benefield, en af grundlæggerne af scrum alliance, introducerede for nogle år siden begrebet <a href="https://www.youtube.com/watch?v=2JNXx8VdbAE">frankenbuilds</a> til at beskrive den tilstand jeg snakker om. Og det er faktisk en god beskrivelse. Der er derfor et stykke vej fra postulatet i det 11. princip, til den virkelighed, der møder os. Hvordan kan det være? Er det forkert tænkt eller er der noget i udførelsen af agile udvikling som går galt?</p>

<h2>Selvorganisering og struktur</h2>

<p>Hvorfra kommer ideen om at selvorganisering leder til de bedste arkitekturer, krav og designs? Det er rigtigt at selvorganiserende systemer i naturen har ledt til imponerende strukturer, som virker unikt tilpassede situationen. For eksempel er evolutionen jo en selvorganiserende process, som har ledt til nogle imponerende strukturer, som mange har svært ved at tro ikke kan være designede. Deraf intelligent design bevægelsen. Eksemplerne er legio: bikuben, koral rev, øjet. det er altsammen selvorganiserende systemer.  Der findes også en hel disciplin som i udgangspunktet menere at naturen og evolutionenens selvorganiserende processer altid vil have et bedre svar, nemlig biomimetikken.</p>

<p>Man kan godt forstå, at dette kan have inspireret til ideen om at selvorganiserende teams kan være overlegne i forhold til designede løsninger. Naturens selvorganiserende systemer producerer i høj grad overlegne strukturer til at løse specifikke problemer i forhold til menneskelige designere. Men der er også nogle skridt som er taget ud, for selvorganisering skaber i udgangspunktet ikke struktur. Det normale er at systemet bliver kaotisk. Hvis alle dele af et system bare er frit til at organisere sig som det har lyst, så vil der ikke opstå nogen struktur. Hvis vi tager den klassiske med fugle der flyver i flok. Hvis hver fugl eller mindre grupper af fugle blot var karakteriseret ved den egenskab at være selvorganiserende, ville de flyve hulter til bulter og intet mønster opstå. Men det gør fugle flokke ikke. De følger nemlig nogle <a href="http://web.cecs.pdx.edu/~mm/ExploringComplexityFall2013/ModelsOfSelfOrganization.pdf">simple regler</a>.</p>

<p>Første krav til at struktur kan opstå ud fra et selvorganiserende system er derfor, at der er regler. For fugle er det, at man skal lade være med at støde ind i andre, man skal tilpasse sin fart til dem, som er tæt på samt, at man skal prøve at blive så tæt på hinanden som muligt. Disse tre regler er i øvrigt dem, som ligger til grund for al flok opførsel fra fåreflokke til fiskestimer.</p>

<p>Ud fra disse regler kan vi udlede det andet krav til selvorganisering: opmærksomhed på omgivelserne. Hvis man skal finde af at styre udenom andre og finde centrum skal man have information om omgivelserne og kunne bearbejde dem. Der skal altså være en form for sensor.</p>

<p>Det tredie krav kan også udledes: Der skal være et feedback loop. hvis man skal tilpasse sin fart til de omkring liggende skal der være et feedback på farten således at den bremses hvis den er for hurtig i forhold til omgivelserne og speedes op hvis det er for langsomt. Der er tale om et positivt og et negativt feedback loop i forhold til farten.</p>

<p>Men en ting er at skabe en struktur en anden er at skabe den bedste struktur. Her skal vi nok lige kvalificere. Den bedste struktur må betyde den bedst egnede i et givet miljø. Grunden til at fiskens flok opførsel producerer en optimal struktur er at den er tilpasset til miljøet. Den måde som det sker på er ved selektion. Selektion kan i princippet være både naturlig og artificiel og virke, så længe det er de bedste i en generation som bliver udvalgt.</p>

<p>Vi kan altså udlede at for, at der kan opstå en eller anden form for optimal struktur, skal der være fire ting tilstede</p>

<p>1) Regler
2) Sensor
3) Feedback loop
4) Selektion</p>

<h2>Agil selvorganisering</h2>

<p>Hvis vi applicerer det på agil udvikling kan vi måske bedre forstå, hvordan det fungerer.</p>

<p>1) Regler - Agil udvikling har regler: sprint længde, planning poker, faste roller (product owner, scrum master etc)
2) Sensor - I forhold til omgivelserne, det vil sige brugere og de forretningsmæssige omgivelser, er det product owner som er den eneste sensor, så produktet afhænger i høj grad af denne postitions kvalitet. 
3) Feedback loop - focus på brugeraccepttest er en form for feedback loop. På samme måde som at justere hastighed, skal produktet justeres i forhold til forventningerne. Der er også retrospectives som er feedback loop i forhold til processen. 
4) Selektion -  her arbejder den agile verden ikke rigtigt med noget. Det er meget sjældent man udvælger de stærke og lader de svage strukturer dø, men der er mulighed for det. Refaktoring er et eksempel på dette. Man kunne sige at Lean Start up er den motor som kunne styre det agile selektionspres, hvor man løbende laver prototyper og vælger de bedste ud til egentlig produktion.</p>

<h2>Hvor går det galt?</h2>

<p>Så alle ingredienserne er altså tilstede i agil udvikling, hvilket passer fint med succesen. Men hvor går det typisk galt og hvor går det godt? Det kan gå galt på alle fire områder og alle teams er forskellige, men hvis man skulle snakke om strukturelle problemer kan man godt pege på punkt 2 og 4, som de mest kritiske. De fleste agile teams plejere at kunne følge reglerne og måske i lidt mindre grad, men dog ikke utilstrækkeligt, at få lavet brugeraccepttest.</p>

<p>Men selve sensoren, product owner, er et oplagt singe point of failure, for hvis denne ikke kan finde ud af, hvad omgivelserne vil have, er resten næsten ligegyldigt. Product owner rollen er også strukturelt udfordret i det den ofte er overbelastet. Her kan man rede det ved at opprioritere rollen eller lave processer til at sikre, at der sker en ordentlig forståelse af hvordan produktet bruges. Gabriele Benefield bruger ofte at tage temaet med til live usability testing, hvor de kan se brugere bruge eller misbruge produktet. Det skulle være en lærerig oplevelse.</p>

<p>Hvis man bruger lean start up er man et godt stykke af vejen, men her er succes afhængig af selektionens effektivitet. Ofte kører man efter AB testning. Her er faldgruben at man ikke har nok data til at resultatet er godt nok til at foretage en ordentlig selektion. Her handler det paradoksalt nok om at lade være med at bruge AB test, hvis man ikke har data nok til det.</p>

<p>En anden grund til selection failure er at man, selv om man ved en variant er mere “levedygtig” ikke får lavet refaktoring af koden. Det betyder at fitness gradvist vil mindskes. Hvis der ikke handles eller hvis selektionsprocessen ikke er god nok vil hele produktet fejle.</p>

<p>Det er altså muligt at finde belæg for det agile manifests antagelse, men i praksis er det langt fra altid at omstændighederne er tilstede. Jeg tror at den næste store barriere for agil udvikling er at finde en passende måde at sikre hvordan de rette signaler fra omgivelserne tages ind og benyttes i de agile teams. Hvad siger brugerne, hvad siger sælgerne, de andre teams, arkitekterne eller endda (gud forbyde det) lederne. Samtidig</p>
  </section>


  </div></body></html>
