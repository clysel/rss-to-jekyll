---
layout:     post
title: 	    "Preview of XenServer support for Docker and Container Management"
post_author:	    
post_date:	    Tue, 10 Mar 2015 09:38:38 +0000
post_site:	    xenserver.org 
post_link:	    http://xenserver.org/blog/entry/preview-of-xenserver-support-for-docker-and-container-management.html
---
<html><body><div><div id="entry-85" class="blog-read blog-post clearfix">

		
		<div class="blog-brief clearfix ptl pbl mbl">
													<div class="in">
									
					
<div class="blog-avatar float-l prel" itemscope="" itemtype="http://schema.org/Person" itemprop="author">
			<a href="http://xenserver.org/blog/blogger/listings/jamesbu.html" class="avatar float-l">
			<img src="http://xenserver.org/images/easyblog_avatar/615_JamesBulpin_headshot_2012_200pixels.JPG" alt="James Bulpin" class="avatar isBlogger" itemprop="image"/><meta itemprop="name" content="James Bulpin"/></a>
	</div>				
				
				

				
			</div>
		</div>

		<p class="blog-head mtm">
						<h1 id="title-85" class="blog-title rip">Preview of XenServer support for Docker and Container Management</h1>
		</p>

		
				<div class="blog-text clearfix prel mtm mbm">

			
			
			
			
			
			
			
			
			
			
			<p>I'm excited to be able to share with you a preview of our new XenServer support for Docker and Container Management. Downloads can be found on the <a href="http://xenserver.org/overview-xenserver-open-source-virtualization/prerelease.html">preview page</a>, read on for installation instructions and more details.<br/><br/>Today many <a href="https://www.docker.com/">Docker</a> applications run in containers within VMs hosted on hypervisors such as XenServer and other distributions of Xen. The synergy between containers as an application isolation mechanism and hypervisors as a secure physical infrastructure virtualization mechanism is something that I'll be blogging more about in the future. I firmly believe that these two technologies add value to each other, especially if they are aware of each other and designed to work together for an even better result.<br/><br/>That's why we've been looking at how we can enhance XenServer to be a great platform for Docker applications and how we can contribute to the Docker ecosystem to best leverage the capabilities and services available from the hypervisor. As a first step in this initiative I'm pleased to announce a preview of our new XenServer support for Docker applications. Those who attended Citrix Summit in January or FOSDEM in February may have seen an earlier version of this support being demo'd.<br/><br/>The preview is designed to work on top of XenServer 6.5 and comes in two parts: a supplemental pack for the servers and a build of XenCenter with the UI changes. XenCenter is installed in the normal Windows manner. The supplemental pack is installed in the same way as other XenServer supp-packs by copying the ISO file to each server in the pool and executing the following command in domain 0:</p>&#13;
<pre>xe-install-supplemental-pack xscontainer-6.5.0-100205c.iso<br/>mount: xscontainer-6.5.0-100205c.iso is write-protected, mounting read-only<br/>Installing 'XenServer Container Management'...<br/><br/>Preparing...                ########################################### [100%]<br/>   1:guest-templates        ########################################### [ 50%]<br/>Waiting for xapi to signal init complete<br/>Removing any existing built-in templates<br/>Regenerating built-in templates<br/>   2:xscontainer            ########################################### [100%]<br/>Pack installation successful.</pre>&#13;
<p>So what do you get with this preview? First off you get support for running CoreOS Linux VMs - <a href="https://coreos.com/">CoreOS </a>is a minimal Linux distribution popular for hosting Docker apps. The XenCenter VM installation wizard now includes a template for CoreOS and additional dialogs for setting the VM up (that's setting up a cloud config drive under the hood). This process also prepares the VM to be managed, to enable the main part of the preview's functionality to interact with it.</p>&#13;
<p><img title="b2ap3_thumbnail_new_vm_coreos_cloudconfig.jpg" src="http://xenserver.org/images/easyblog_images/615/b2ap3_thumbnail_new_vm_coreos_cloudconfig.jpg" alt="b2ap3_thumbnail_new_vm_coreos_cloudconfig.jpg"/></p>&#13;
<p>Secondly, and most importantly, XenServer becomes aware of “Container managed” VMs running Docker containers. It queries the VMs to enumerate the application containers running on each and then displays these within XenCenter's infrastructure view. XenCenter also allows interaction with the containers to start, stop and pause them. We want XenServer to be a platform for Docker and complement, not replace, the core part of the Docker application ecosystem, and therefore we expect that the individual Docker Engine instances in the VMs will be managed by one of the many Docker management tools such as <a href="http://kubernetes.io/">Kubernetes</a>, <a href="https://github.com/docker/compose">Docker Compose</a> or <a href="http://shipyard-project.com/">ShipYard</a>.</p>&#13;
<p><img title="b2ap3_thumbnail_container_treeview.png" src="http://xenserver.org/images/easyblog_images/615/b2ap3_thumbnail_container_treeview.png" alt="b2ap3_thumbnail_container_treeview.png"/></p>&#13;
<p>So what can you do with this preview? <br/><br/><strong>Monitoring and visibility</strong> - knowing which VMs are in use for Docker hosting and which containers on them are actually running. Today's interface is more of a <a href="http://www.theregister.co.uk/2013/03/18/servers_pets_or_cattle_cern/">"pets" than "cattle"</a> one but we've got experience  in showing what's going on at greater scale.<br/><br/><strong>Diagnostics</strong> - easy access to basic container information such as forwarded network ports and originating Docker image name. This can help accelerate investigations into problems where either or both of the infrastructure and application layers may be implicated. Going forward we’d like to also provide easy access to the container-console.<br/><br/><strong>Performance</strong> - spotted a VM that's using a lot of resource? This functionality allows you to see which containers are running on that VM, what processes run inside, how much CPU time each consumed, to help identify the one consuming the resource. In the future we'd like to add per-container resource usage reporting for correlation with the VM level metrics.<br/><br/><strong>Control applications</strong> - using XenCenter you can start, stop and pause application containers. This feature has a number of use cases in both evaluation and deployment scenarios including rapidly terminating problematic applications.<br/><br/>We'd love to hear your feedback on this preview: what was useful, what wasn't? What would you like to see that wasn't there? Did you encounter problems or bugs? Please can share your feedback using our normal preview feedback mechanism by creating a ticket in the "XenServer Org" (XSO) project at <a href="https://bugs.xenserver.org">bugs.xenserver.org</a><br/><br/>This preview is a first step towards a much richer Docker-XenServer mutual awareness and optimization to help bridge the gap between the worlds of the infrastructure administrator and the application developer/administrator. This is just the beginning, we expect to be improving, extending and enhancing the overall XenServer-Docker experience beyond that. Look out for more blog posts one this topic...</p>&#13;
<p>For a detailed guide to using this preview please see this <a href="http://xenserver.org/partners/docker.html?id=159">article</a>.</p>
			
			
										
			
			
			
			
					</div>

					


		
				
		
							
		
		
		&#13;
</div>

	
	</div></body></html>
