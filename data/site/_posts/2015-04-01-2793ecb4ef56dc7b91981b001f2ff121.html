---
layout:     post
title: 	    "33 år gammel spaghettikode kan redde SKAT ud af it-suppedas"
post_author:	    Jesper Stein Sandal
post_date:	    Wed, 01 Apr 2015 02:01:39 +0000
post_site:	    www.version2.dk 
post_link:	    http://www.version2.dk/artikel/33-aar-gammel-spaghettikode-kan-redde-skat-ud-af-it-suppedas-125232?utm_medium=feed&utm_source=version2.dk&utm_campaign=it_nyheder
---
<html><body><div><section class="body">
    <p>SKATs it-problemer betyder, at staten er gået glip af mindst 900 millioner kroner, som danskerne har skyldt staten, men som ikke er blevet inddrevet, inden forældelsesfristens udløb. Et nyt stort it-system skulle netop klare den opgave, men det har ikke virket efter hensigten. Nu kan SKAT få hjælp fra uventet side.</p>

<p>Et 33 år gammelt program ser nemlig ud til at kunne graves frem fra it-kirkegården og løse den samme opgave, som det såkaldte EFI, Et Fælles Inddrivelsessystem, skulle have kunnet.</p>

<p>»Vi har kørt en afgrænset test af programmet, og selvom det er for tidligt at fælde endegyldig dom, så ser det lovende ud. Programmet kører lynhurtigt og ser ud til at løse opgaven fejlfrit,« siger projektleder Bent Scharøe Petersen fra SKAT til Version2.</p>



<p>Det eneste problem ved det gamle program er, at ingen nuværende medarbejdere i SKAT er i stand til at gennemskue, hvordan det rent faktisk fungerer.</p>

<h2>Hundredvis af GOTO-kommandoer</h2>

<p>Programmet, der lød det uofficielle navn DATAERSK, hvilket skulle være en sammentrækning af 'datatærskeren', blev nemlig blot udviklet som et testforløb og aldrig taget i brug. Derfor er programmet heller ikke dokumenteret, og koden er i praksis umulig at overskue for andre end de oprindelige programmører.</p>

<p>»Den er meget typisk for programmer fra dengang det, man virkelig kan kalde spaghettikode. Det består af lidt mere end 65.000 linjers kode i Turbo Pascal med hundredvis af GOTO-kommandoer,« forklarer Bent Scharøe Petersen.</p>

<p>Når DATAERSK alligevel er trukket frem i lyset, så skyldes det, at SKAT i forbindelse med udredningen af problemerne EFI var nødt til at invitere pensionerede edb-folk ind for at hjælpe med at forstå snitfladerne til nogle af de ældre databaser og scripts, som SKAT anvender.</p>



<p>Det var én af disse pensionerede programmører som studsede over ligheden mellem dét, EFI skulle gøre, og dét, DATAERSK i sin tid blev skrevet i forsøg på at løse.</p>

<p>»Jeg havde godt læst om problemerne med EFI og tænkt over, hvordan vi ville have løst det dengang, jeg sad med sådanne projekter, men det var først, da jeg så de gamle snitflader, at det faldt i hak,« fortæller Willy Olsen, som var den ene af tre programmører, der i sin tid skrev koden til DATAERSK.</p>

<p>Han har nu hjulpet SKAT med at ændre konfigurationen af DATAERSK til at kunne lave en stor del af de udtræk, som EFI skulle have lavet.</p>

<h2>Kører vanvittig hurtigt</h2>

<p>Baggrunden for DATAERSK var oprindeligt et forsøg på at spare skattevæsenet for dyre udregninger på mainframe-systemer.</p>

<p>»Vi var nogle stykker, som var meget optaget af mikrodatamater og personlige computere, som vi rodede med, og selvom de slet ikke var lige så kraftige som mainframen, så var der også mere frie rammer til at eksperimentere,« fortæller Willy Olsen.</p>

<p>Da Mogens Lykketoft overtog Skatteministeriet i januar 1981, stod der allerede dengang effektiviseringer og besparelser på dagsordenen. En af de udgiftsposter, der voksede hurtigst og blev spået til at vokse endnu mere i fremtiden, var driften af edb-systemer, og derfor fik skattevæsenet besked på at finde billigere måder at løse opgaverne på.</p>

<p>Det førte til en række projekter, som alle blev nedlagt, kort efter Socialdemokraterne mistede regeringsmagten i 1982. På det tidspunkt fyldte DATAERSK altså mere end 65.000 linjer, hvoraf cirka 16.000 udgjorde et på daværende tidspunkt avanceret modul til at trække data fra mainframen.</p>

<p>DATAERSK skulle trække data ud fra mainframen og behandle dem lokalt på en mikrodatamat. Selvom det gik langsommere end på mainframen, så var det billigere, og tiden var mindre vigtig for eksempelvis sådan noget som at tjekke millioner af gældsposter for, om forældelsesfristen var ved at være overskredet.</p>

<p>»Det var jo skrevet til at kunne køre på en 8088-processor, så på en moderne pc-processor kører det vanvittig hurtigt. Det, der ville have taget os en måned dengang, kan klares på under ét minut i dag, når vi kører DATAERSK,« forklarer Bent Scharøe Petersen fra SKAT.</p>

<h2>Skulle bruge Regnecentralens datamater</h2>

<p>Skæbnen var imidlertid imod DATAERSK, for det var netop skrevet til 8088-processoren og IBM's Personal Computer i en tidlig udgave af Turbo Pascal.</p>

<p>»Schlüter-regeringen havde tætte forbindelser til Regnecentralen og var derfor i starten af 1980'erne meget imod, at vi baserede os på IBM PC i stedet for RC Piccolo. Vi var egentligt heller ikke selv glade for IBM-pc'en, men vi havde fået et fint eksemplar fra IBM, fordi vi var så stor en kunde, og så kunne vi ligeså godt bruge den til DATAERSK. Det var da også heldigt, for det betød, at vi gemte programmet på en 5,25 tommers diskette, som vi uden problemer kunne læse igen, da vi fandt den i SKAT's arkiv. I 1981 havde vi fra Regnecentralen kun et par RC 701-datamater stående, og så var programmet endt på en otte tommers diskette, og det havde været meget sværere at opstøve et diskettedrev,« forklarer Willy Olsen.</p>

<p>Selvom DATAERSK ser ud til at kunne håndtere den opgave, EFI ikke var i stand til, så er det imidlertid ingen garanti for, at SKAT tager det i brug. SKAT kan nemlig komme i konflikt med EU-regler om ulovlig statsstøtte.</p>

<p>Problemet er, at skattevæsenet og toldvæsenet først blev sammenlagt og blev en ny juridisk instans, efter Danmark havde tiltrådt Edinburgh-aftalen. Det betyder, at programmel udviklet af medarbejdere i det gamle skattevæsen, men som aldrig har været taget i brug, ikke kan sættes ind i et produktionsmiljø. Der skal først et EU-udbud til.</p>

<p>Ifølge SKAT vil det koste knapt en kvart million at rydde op i de 65.000 linjers spaghettikode og skrive dokumentationen, men det vil koste mellem to og ti millioner at gennemføre et udbud i den kategori, der er nødvendig. Og det er ikke en gang sikkert, at SKAT og dermed DATAERSK ville vinde SKATs eget udbud.</p>

<p>»Det er absurd, at vores Turbo Pascal-kode kaldes for spaghettikode på grund af et par tusinde GOTO-kommandoer, når EU's udbudsregler ligner én lang række af syntaksfejl,« siger Willy Olsen.</p>


  </section>

  
  
  
  </div></body></html>
